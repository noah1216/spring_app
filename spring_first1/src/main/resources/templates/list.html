
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="css/main.css">
<title>タイトル</title>
</head>
<body>
	<main>
		<div class="header-box">
			<a th:href="@{/top}">
				<button type="button" class="b-size magin-l10">top</button>
			</a>
		    <a th:href="@{/logout}">
		      <input type="button" value="logout">
		    </a>
		</div>
		<div class="list-center">
			<a th:href="@{/register}">
				<button type="button" class="b-size">新規登録</button>
			</a>
		</div>
		
		<div th:each="questions : ${questionList}" th:object="${questions}" >
            <label>問題:</label>
            <label th:text="*{id}"></label>
            <input type="text" name="question" class="text-size" th:value="${questions.question}" readonly><br>
        <div th:each="answers, stat : ${answerList}">
        <div th:with="id1=${questions.id}, id2=${answers.questions_id}, answer=${answers.answer}">
	        <div th:if="${id1 == id2}">
				<label>答え:</label> 
				<label th:text="${stat.count}"></label>
				<input type="hidden" name="answerId" th:value="${answers.questions_id}"> 
				<input type="text" name="answer" th:value="${answers.answer}" class="text-size" readonly>
			</div>
		</div>
		</div>
				<div th:with="question_id=${questions.id}">
				<form th:action="@{/delete}" th:object="${deleteForm}">
					<input type="hidden" th:field="*{question_id}">
					<button type="submit">削除</button>
				</form>
				</div>
				<form action="deleteSarvlet">
					<input type="hidden" name="questionId"
						value="<%= question.getId() %>"> <input type="hidden"
						name="answerId" value="<%= answer.getQuestionsId() %>"> <input
						type="hidden" name="answer" value="<%= answer.getAnswer() %>">
					<input type="hidden" name="question"
						value="<%= question.getQuestion() %>">
					<button type="submit">編集</button>
				</form>
				
	</div>
</main>
</body>
</html>